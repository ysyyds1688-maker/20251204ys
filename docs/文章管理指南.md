# 文章管理指南

## 📋 概述

本指南說明如何管理 Google Sheet 中的文章，包括刪除、修改、隱藏等操作。

---

## 🗑️ 刪除文章的方法

### 方法 1：直接刪除行（永久刪除）⭐ 推薦

**適用場景**：確定不再需要這篇文章

**步驟**：
1. 打開 Google Sheet：`https://docs.google.com/spreadsheets/d/1eMQUXRcn9-wELa8cLoK6kXrdnEnkZoMyMzAtCH1Bmes`
2. 切換到對應的分頁（例如：優惠活動類、娛樂城評價類等）
3. 找到要刪除的文章行
4. 右鍵點擊行號 → 選擇「刪除列」（或按 `Ctrl+Shift+-` / `Cmd+Shift+-`）
5. 前端會自動更新（可能需要清除快取或等待幾分鐘）

**優點**：
- 永久刪除，不佔用空間
- 操作簡單直接

**缺點**：
- 無法恢復（除非使用 Google Sheet 的版本歷史）

---

### 方法 2：修改 Status 欄位（隱藏文章）⭐ 推薦

**適用場景**：暫時隱藏文章，未來可能恢復

**步驟**：
1. 打開 Google Sheet
2. 找到要隱藏的文章
3. 將 `Status` 欄位從 `done` 改為其他值，例如：
   - `deleted`（已刪除）
   - `hidden`（隱藏）
   - `pending`（待處理）
   - `archived`（已歸檔）
4. 前端會自動隱藏該文章（因為前端只顯示 `Status=done` 的文章）

**優點**：
- 可以恢復（只需改回 `done`）
- 保留歷史記錄
- 可以追蹤哪些文章被刪除

**缺點**：
- 資料仍佔用空間

**前端過濾邏輯**：
```typescript
// ArticleService.ts 中的過濾邏輯
const status = (row['Status'] || '').toString().trim().toLowerCase();
const isDone = status === 'done';
return isDone; // 只返回 Status=done 的文章
```

---

### 方法 3：清空 Content 欄位（隱藏文章）

**適用場景**：保留標題和關鍵字，但隱藏內容

**步驟**：
1. 打開 Google Sheet
2. 找到要隱藏的文章
3. 清空 `Content` 欄位（或填入 `[已刪除]`）
4. 前端會顯示「這篇文章的內容尚未完成」的提示

**優點**：
- 保留關鍵字和標題（SEO 可能有用）
- 可以追蹤哪些文章被刪除

**缺點**：
- 文章仍會出現在列表中（但點進去會顯示「內容尚未完成」）

---

### 方法 4：使用 n8n 工作流批量刪除

**適用場景**：需要批量刪除多篇文章

**工作流設定**：
```
[Schedule Trigger] 或 [Manual Trigger]
  → [Google Sheets: Read Rows] (讀取要刪除的文章)
  → [Code 節點：標記為 deleted]
  → [Google Sheets: Update Row] (更新 Status=deleted)
```

**Code 節點範例**：
```javascript
// 標記文章為已刪除
const items = $input.all();

return items.map(item => ({
  json: {
    ...item.json,
    Status: 'deleted' // 改為 deleted，前端就不會顯示
  }
}));
```

---

## 🔄 恢復已刪除的文章

### 如果使用「方法 2：修改 Status」

**步驟**：
1. 打開 Google Sheet
2. 找到被刪除的文章（Status 可能是 `deleted`、`hidden` 等）
3. 將 `Status` 改回 `done`
4. 前端會自動恢復顯示

---

## 📊 批量操作

### 批量隱藏多篇文章

**使用 Google Sheet 的篩選功能**：
1. 選中 `Status` 欄位的標題行
2. 點擊「資料」→「建立篩選器」
3. 篩選出要刪除的文章（例如：特定關鍵字、特定日期範圍）
4. 選中所有篩選結果的行
5. 批量修改 `Status` 欄位為 `deleted`

### 批量刪除多篇文章

**使用 Google Sheet 的篩選功能**：
1. 使用上述篩選方法選中要刪除的行
2. 右鍵 →「刪除列」
3. 確認刪除

---

## ⚠️ 注意事項

### 1. 前端快取

- Google Sheet 的 CSV 可能有快取（通常幾分鐘）
- 刪除後，前端可能需要等待幾分鐘才會更新
- 可以清除瀏覽器快取或使用無痕模式測試

### 2. 版本歷史

- Google Sheet 有版本歷史功能
- 如果誤刪，可以：
  1. 點擊「檔案」→「版本歷史記錄」
  2. 選擇之前的版本
  3. 恢復到該版本

### 3. 備份建議

- 定期備份 Google Sheet
- 或使用 Google Drive 的自動備份功能

### 4. SEO 影響

- 如果文章已經被 Google 索引，刪除後可能導致 404 錯誤
- 建議：
  - 使用 301 重定向到相關文章
  - 或保留文章但改為 `Status=deleted`（隱藏但不刪除）

---

## 🔍 查找要刪除的文章

### 方法 1：使用 Google Sheet 的搜尋功能

1. 按 `Ctrl+F` / `Cmd+F` 打開搜尋
2. 輸入關鍵字、標題或 Keyword
3. 找到對應的行

### 方法 2：使用篩選功能

1. 點擊「資料」→「建立篩選器」
2. 根據 `Keyword`、`Category`、`Date` 等欄位篩選
3. 找到要刪除的文章

### 方法 3：使用前端 URL

1. 在前端找到要刪除的文章
2. 查看 URL（例如：`/topic/文章標題`）
3. 記下文章的 `title` 或 `Keyword`
4. 在 Google Sheet 中搜尋該標題或關鍵字

---

## 📝 建議的刪除流程

### 單篇文章刪除

1. **確認要刪除**：檢查文章是否真的需要刪除
2. **選擇方法**：
   - 確定不再需要 → 使用「方法 1：直接刪除行」
   - 可能恢復 → 使用「方法 2：修改 Status」
3. **執行刪除**
4. **驗證**：在前端確認文章已消失

### 批量刪除

1. **建立篩選器**：篩選出要刪除的文章
2. **確認範圍**：檢查篩選結果是否正確
3. **批量修改**：將 `Status` 改為 `deleted`
4. **驗證**：在前端確認文章已隱藏

---

## 🔗 相關文件

- `docs/n8n_論壇文章自動發文指南.md` - 自動發文工作流
- `docs/分類對應完整指南.md` - 分類對應關係
- `src/services/ArticleService.ts` - 前端文章服務（過濾邏輯）

